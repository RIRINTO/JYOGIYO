<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="User">
    <select id="selectAll">
        SELECT CATE_SEQ,
               OWNER_SEQ,
               CATE_NAME,
               CATE_CONTENT,
               CATE_DISPLAY_YN,
               ATTACH_PATH,
               ATTACH_FILE,
               IN_DATE,
               IN_USER_ID,
               UP_DATE,
               UP_USER_ID
        FROM CATEGORY
        WHERE OWNER_SEQ = :V_OWNER_SEQ
    </select>

    <select id="select">
        SELECT CATE_SEQ,
               OWNER_SEQ,
               CATE_NAME,
               CATE_CONTENT,
               CATE_DISPLAY_YN,
               ATTACH_PATH,
               ATTACH_FILE,
               IN_DATE,
               IN_USER_ID,
               UP_DATE,
               UP_USER_ID
        FROM CATEGORY
        WHERE CATE_SEQ = :V_CATE_SEQ
          AND OWNER_SEQ = :V_OWNER_SEQ
    </select>
    
<!-- ################## insert ################## -->
    <update id="insert">
    	insert into
    		category
		    	(
					cate_seq,
		    		owner_seq,
					cate_name,
					cate_content,
					cate_display_yn,
					attach_path,
					attach_file,
					in_date, 
					in_user_id, 
					up_date, 
					up_user_id
				)
		values
			(
				CATE_SEQ.nextval, 
				:1, 
				:2, 
				:3, 
				:4, 
				:5,
				:6,
				to_char(sysdate, 'YYYYMMDD.HH24MISS'), 
				:7,
				to_char(sysdate, 'YYYYMMDD.HH24MISS'), 
				:8
			)
    </update>
    
<!-- ################## update ################## -->
    <update id="update">
		update
    			category
		set
			OWNER_SEQ =:1,
			CATE_NAME =:2,
			CATE_CONTENT =:3,
			CATE_DISPLAY_YN =:4,
			ATTACH_PATH =:5,
			ATTACH_FILE =:6,
			to_char(sysdate, 'YYYYMMDD.HH24MISS'),
			up_user_id =:7
		where
			cate_seq =:8
    </update>
</mapper>