<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="User">
    <select id="genBuySeq">
		SELECT BUY_SEQ.NEXTVAL
		FROM DUAL
    </select>
    <select id="select">
		SELECT BUY_SEQ,
			   MENU_SEQ,
			   BUY_CNT,
			   IN_DATE,
			   IN_USER_ID,
			   UP_DATE,
			   UP_USER_ID
		FROM BUY
		WHERE BUY_SEQ = :V_BUY_SEQ
    </select>
    <update id="insert">
		INSERT INTO BUY(BUY_SEQ,
						MENU_SEQ,
						BUY_CNT,
						IN_DATE,
						IN_USER_ID,
						UP_DATE,
						UP_USER_ID)
		VALUES (:V_BUY_SEQ,
				:V_MENU_SEQ,
				:V_BUY_CNT,
				TO_CHAR(SYSDATE, 'YYYYMMDD.HH24MISS'),
				:V_IN_USER_ID,
				TO_CHAR(SYSDATE, 'YYYYMMDD.HH24MISS'),
				:V_UP_USER_ID)
    </update>
    <update id="delete">
        DELETE
		FROM BUY
		WHERE BUY_SEQ = :V_BUY_SEQ
		  AND MENU_SEQ = :V_MENU_SEQ
    </update>
</mapper>